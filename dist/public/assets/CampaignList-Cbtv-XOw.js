import{j as e}from"./vendor-radix-C_vsl6Su.js";import{r as m}from"./vendor-react--0RGCJ5T.js";import{c as i,u as g,S as y,I as u}from"./index-CQwUKZm9.js";import{g as j,B as h,P as p,a as f}from"./campaignStore-Ccqe-oHN.js";import{C as N}from"./card-deHKyo5c.js";import{S as b}from"./StatusBadge-BH2Ff6N2.js";import{f as x}from"./vendor-utils-DlWX2jwD.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=i("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=i("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=i("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=i("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=i("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);function M({score:t,size:a="md",showLabel:c=!0}){const r=j(t),n={sm:"text-lg font-semibold",md:"text-2xl font-bold",lg:"text-4xl font-bold",xl:"text-5xl font-bold"},d={sm:"text-[10px]",md:"text-xs",lg:"text-sm",xl:"text-sm"};return e.jsxs("div",{className:"flex flex-col items-center","data-testid":"nps-score-display",children:[e.jsx("span",{className:`${n[a]} ${r}`,"data-testid":"text-nps-value",children:t}),c&&e.jsx("span",{className:`${d[a]} text-gray-400 uppercase tracking-wider font-medium`,children:"NPS"})]})}const L={EN:"English",DE:"German",AR:"Arabic"};function P({campaign:t,onClick:a}){return e.jsx(N,{className:"p-6 bg-white border border-gray-200 rounded-lg cursor-pointer hover:border-gray-300 transition-all group shadow-sm",onClick:()=>a(t),"data-testid":`card-campaign-${t.id}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate","data-testid":"text-campaign-name",children:t.name}),e.jsx(b,{status:t.status})]}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-4","data-testid":"text-campaign-description",children:t.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(S,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:L[t.language]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(C,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:t.serviceType})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(v,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[x(new Date(t.startDate),"MMM d")," - ",x(new Date(t.endDate),"MMM d, yyyy")]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"text-center",children:e.jsx(M,{score:t.insights.npsScore,size:"lg"})}),e.jsx(w,{className:"h-5 w-5 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})})}function D({title:t,description:a,actionLabel:c,onAction:r}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center bg-white rounded-lg border border-gray-200","data-testid":"empty-state",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:e.jsx(k,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),e.jsx("p",{className:"text-sm text-gray-500 max-w-md mb-6",children:a}),c&&r&&e.jsxs(h,{onClick:r,className:"bg-primary hover:bg-primary/90 text-white rounded-md","data-testid":"button-empty-action",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),c]})]})}function z(){const[,t]=g(),[a,c]=m.useState(""),r=f(),n=m.useMemo(()=>{if(!a.trim())return r;const s=a.toLowerCase();return r.filter(l=>l.name.toLowerCase().includes(s)||l.description.toLowerCase().includes(s)||l.language.toLowerCase().includes(s)||l.serviceType.toLowerCase().includes(s)||l.status.toLowerCase().includes(s))},[r,a]),d=s=>{t(`/campaigns/${s.id}`)},o=()=>{t("/campaigns/new")};return e.jsx("div",{className:"min-h-full bg-gray-50 p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Campaigns"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and track your NPS campaigns"})]}),e.jsxs(h,{onClick:o,className:"bg-primary hover:bg-primary/90 text-white rounded-md","data-testid":"button-create-campaign",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]}),r.length>0&&e.jsxs("div",{className:"relative mb-6",children:[e.jsx(y,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(u,{type:"search",placeholder:"Search campaigns by name, language, service type, or status...",value:a,onChange:s=>c(s.target.value),className:"pl-11 bg-white border-gray-200 rounded-lg h-11 text-gray-900 placeholder:text-gray-400","data-testid":"input-search"})]}),r.length===0?e.jsx(D,{title:"No campaigns yet",description:"Get started by creating your first NPS campaign to collect customer feedback and track satisfaction scores.",actionLabel:"Create Campaign",onAction:o}):n.length===0?e.jsx("div",{className:"text-center py-16 bg-white rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-500",children:"No campaigns match your search."})}):e.jsx("div",{className:"grid gap-4","data-testid":"campaign-list",children:n.map(s=>e.jsx(P,{campaign:s,onClick:d},s.id))})]})})}export{z as default};
