import{j as e,r as B,s as G,t as je,g as be,O as Y,h as J,i as fe,k as K,l as X,m as ve}from"./vendor-radix-C_vsl6Su.js";import{r as f}from"./vendor-react--0RGCJ5T.js";import{c as A,a as w,X as Ne,u as we,b as Se,I as u,C as Ce}from"./index-DyA_X1RM.js";import{B as y,D as L,v,c as ke,P as V}from"./campaignStore-1WzPW7VV.js";import{h as Te,A as q,L as t,f as b,D as H,T as C,e as Re,S as k,a as T,b as R,c as D,d as x,g as W,C as De}from"./DraggableList-BNOEdPZZ.js";import{C as j}from"./card-ZJBVhEJN.js";import"./vendor-utils-DlWX2jwD.js";import"./vendor-dnd-CP4G9cd3.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=A("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=A("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=A("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=A("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=A("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=A("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Q=f.forwardRef(({className:m,...c},n)=>e.jsx(B,{className:w("grid gap-2",m),...c,ref:n}));Q.displayName=B.displayName;const F=f.forwardRef(({className:m,...c},n)=>e.jsx(G,{ref:n,className:w("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",m),...c,children:e.jsx(je,{className:"flex items-center justify-center",children:e.jsx(Ae,{className:"h-2.5 w-2.5 fill-current text-current"})})}));F.displayName=G.displayName;function Ee({steps:m,currentStep:c,onStepClick:n}){return e.jsx("div",{className:"flex items-center justify-center w-full","data-testid":"step-indicator",children:m.map((h,s)=>{const U=h.id<c,E=h.id===c,N=n&&(U||h.id<=c);return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{type:"button",onClick:()=>N&&(n==null?void 0:n(h.id)),disabled:!N,className:`
                  flex items-center justify-center w-10 h-10 rounded-full border-2 
                  transition-all text-sm font-semibold
                  ${U||E?"bg-primary border-primary text-white":"bg-white border-gray-200 text-gray-400"}
                  ${N?"cursor-pointer hover:opacity-90":"cursor-default"}
                `,"data-testid":`button-step-${h.id}`,children:U?e.jsx(Te,{className:"h-5 w-5"}):h.id}),e.jsx("span",{className:`
                  mt-2 text-xs font-medium text-center max-w-[80px]
                  ${E?"text-gray-900":"text-gray-500"}
                `,children:h.title})]}),s<m.length-1&&e.jsx("div",{className:`
                  w-16 h-0.5 mx-2 mt-[-20px]
                  ${h.id<c?"bg-primary":"bg-gray-200"}
                `})]},h.id)})})}const Pe=be,He=ve,Z=f.forwardRef(({className:m,...c},n)=>e.jsx(Y,{ref:n,className:w("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",m),...c}));Z.displayName=Y.displayName;const ee=f.forwardRef(({className:m,children:c,...n},h)=>e.jsxs(He,{children:[e.jsx(Z,{}),e.jsxs(J,{ref:h,className:w("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",m),...n,children:[c,e.jsxs(fe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ee.displayName=J.displayName;const ae=({className:m,...c})=>e.jsx("div",{className:w("flex flex-col space-y-1.5 text-center sm:text-left",m),...c});ae.displayName="DialogHeader";const se=({className:m,...c})=>e.jsx("div",{className:w("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",m),...c});se.displayName="DialogFooter";const te=f.forwardRef(({className:m,...c},n)=>e.jsx(K,{ref:n,className:w("text-lg font-semibold leading-none tracking-tight",m),...c}));te.displayName=K.displayName;const re=f.forwardRef(({className:m,...c},n)=>e.jsx(X,{ref:n,className:w("text-sm text-muted-foreground",m),...c}));re.displayName=X.displayName;const $=[{id:1,title:"Setup"},{id:2,title:"Timeline"},{id:3,title:"Leads source"},{id:4,title:"Survey"},{id:5,title:"Outcomes"}],Le=["Send Email","Send SMS","Send AI Call","Create dispute on Fidspark","Create NPS Task on Leadspark","Create follow-up task via Webhook"],Qe={name:"",description:"",language:"EN",serviceType:"New Vehicle Purchase",status:"Draft",startDate:new Date,endDate:new Date(Date.now()+30*24*60*60*1e3),endDateEnabled:!1,targetAudience:"",triggerType:"Immediate",delayHours:0,dataSource:"",dataSourceType:"leadspark",externalCrmUrl:"",questionSourceType:"external",externalQuestionSourceUrl:"",surveyQuestions:L["New Vehicle Purchase"].map(m=>({...m,id:v()})),followUpSteps:[{id:v(),order:1,actionType:"Send AI Call",delayDays:0,configuration:{}}],messageTemplates:{email:{subject:"",body:""},sms:{body:""},whatsapp:{template:""}},reviewChannels:[{id:v(),platform:"Google",priority:1,enabled:!1},{id:v(),platform:"Facebook",priority:2,enabled:!1},{id:v(),platform:"AutoScout24",priority:3,enabled:!1},{id:v(),platform:"mobile.de",priority:4,enabled:!1}],outcomeRules:{detractors:{createFidsparkDispute:!1,createLeadsparkTask:!1,createWebhookTask:!1,webhookUrl:"",webhookSecret:"",webhookPayloadTemplate:""},promoters:{promptReviewChannels:!1},passives:{noAction:!0}},aiAgentSettings:{enabled:!1,startAfterHours:24,retryIntervalHours:4,callWindowFrom:"09:00",callWindowTo:"18:00",maxRetries:3,voiceType:"Female 1",personaScript:"",triggerHumanFollowUpOnFailure:!1,triggerHumanFollowUpOnDissatisfaction:!1,triggerHumanFollowUpOnVerbalComplaint:!1},insights:{npsScore:0,responseCount:0,responseRate:0,promotersPercent:0,passivesPercent:0,detractorsPercent:0,responseSources:{email:0,sms:0,aiCall:0},npsOverTime:[],aiAgentMetrics:{totalCalls:0,successfulCalls:0,unreachable:0,avgCallDuration:0,escalationReasons:[]},reviewPerformance:{totalReviewRequestsSent:0,clickRate:0,clicksByChannel:[],clicksByPlatform:[],engagementRate:0,engagementTrend:[]},detractorTickets:[]}};function Be(){const[,m]=we(),{toast:c}=Se(),[n,h]=f.useState(1),[s,U]=f.useState(Qe),[E,N]=f.useState(!1),[P,O]=f.useState(null),[ie,le]=f.useState(new Set),r=(a,l)=>{U(o=>({...o,[a]:l}))},ne=a=>{a!==s.serviceType&&s.surveyQuestions.length>0?(O(a),N(!0)):(r("serviceType",a),r("surveyQuestions",L[a].map(l=>({...l,id:v()}))))},oe=()=>{P&&(r("serviceType",P),r("surveyQuestions",L[P].map(a=>({...a,id:v()})))),N(!1),O(null)},de=()=>{const a={id:v(),type:"Rating",text:"",required:!0,order:s.surveyQuestions.length+1};r("surveyQuestions",[...s.surveyQuestions,a])},ce=a=>{r("surveyQuestions",s.surveyQuestions.filter(l=>l.id!==a))},me=()=>{const a={id:v(),order:s.followUpSteps.length+1,actionType:"Send Email",delayDays:0,configuration:{}};r("followUpSteps",[...s.followUpSteps,a])},xe=a=>{r("followUpSteps",s.followUpSteps.filter(l=>l.id!==a))},ue=a=>{le(l=>{const o=new Set(l);return o.has(a)?o.delete(a):o.add(a),o})},g=(a,l)=>{const o=s.followUpSteps.map(d=>d.id===a?{...d,configuration:{...d.configuration,...l}}:d);r("followUpSteps",o)},p=(a,l,o="")=>{var i;const d=s.followUpSteps.find(I=>I.id===a);return((i=d==null?void 0:d.configuration)==null?void 0:i[l])??o},M=a=>{switch(a){case 1:return s.name.trim()!==""&&s.description.trim()!=="";case 2:return s.followUpSteps.length>0;case 3:return s.dataSourceType==="external_crm"?s.externalCrmUrl.trim()!=="":s.dataSourceType==="manual_upload"?s.targetAudience.trim()!=="":!0;case 4:return s.questionSourceType==="external"?s.externalQuestionSourceUrl.trim()!=="":s.surveyQuestions.length>0;case 5:return!0;case 6:return!0;default:return!0}},he=()=>{if(!M(n)){c({title:"Validation Error",description:"Please fill in all required fields before proceeding.",variant:"destructive"});return}n<6&&h(n+1)},ge=()=>{n>1&&h(n-1)},pe=()=>{if(!M(n)){c({title:"Validation Error",description:"Please ensure all required fields are filled.",variant:"destructive"});return}const a={...s,endDate:s.endDateEnabled?s.endDate:void 0},l=ke(a);c({title:"Campaign Created",description:`"${l.name}" has been created successfully.`}),m(`/campaigns/${l.id}`)},ye=()=>{switch(n){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",className:"text-sm font-medium text-gray-900",children:"Campaign Name *"}),e.jsx(u,{id:"name",value:s.name,onChange:a=>r("name",a.target.value),placeholder:"Enter campaign name",className:"mt-2 bg-white border-gray-200 rounded-md","data-testid":"input-campaign-name"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"description",className:"text-sm font-medium text-gray-900",children:"Description *"}),e.jsx(C,{id:"description",value:s.description,onChange:a=>r("description",a.target.value),placeholder:"Describe the purpose of this campaign",className:"mt-2 bg-white border-gray-200 rounded-md",rows:3,"data-testid":"input-campaign-description"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Language"}),e.jsxs(k,{value:s.language,onValueChange:a=>r("language",a),children:[e.jsx(T,{className:"mt-2 bg-white border-gray-200 rounded-md","data-testid":"select-language",children:e.jsx(R,{})}),e.jsxs(D,{children:[e.jsx(x,{value:"EN",children:"English"}),e.jsx(x,{value:"DE",children:"German"}),e.jsx(x,{value:"AR",children:"Arabic"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Service Type"}),e.jsxs(k,{value:s.serviceType,onValueChange:ne,children:[e.jsx(T,{className:"mt-2 bg-white border-gray-200 rounded-md","data-testid":"select-service-type",children:e.jsx(R,{})}),e.jsxs(D,{children:[e.jsx(x,{value:"New Vehicle Purchase",children:"New Vehicle Purchase"}),e.jsx(x,{value:"Service Visit",children:"Service Visit"}),e.jsx(x,{value:"Parts Purchase",children:"Parts Purchase"}),e.jsx(x,{value:"Financing",children:"Financing"}),e.jsx(x,{value:"Leasing",children:"Leasing"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Start Date *"}),e.jsx(u,{type:"date",value:s.startDate.toISOString().split("T")[0],onChange:a=>r("startDate",new Date(a.target.value)),className:"mt-2 bg-white border-gray-200 rounded-md","data-testid":"input-start-date"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"End Date (Optional)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"text-xs text-gray-500",children:"Enable"}),e.jsx(b,{checked:s.endDateEnabled,onCheckedChange:a=>r("endDateEnabled",a),"data-testid":"switch-end-date-enabled"})]})]}),e.jsx(u,{type:"date",value:s.endDate.toISOString().split("T")[0],onChange:a=>r("endDate",new Date(a.target.value)),className:"bg-white border-gray-200 rounded-md",disabled:!s.endDateEnabled,"data-testid":"input-end-date"})]})]})]});case 2:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-base font-semibold text-gray-900",children:"Timeline Flow"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Define the sequence of actions for campaign timeline"})]}),e.jsxs(y,{variant:"outline",size:"sm",onClick:me,className:"border-gray-200","data-testid":"button-add-step",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Add Step"]})]}),e.jsx(H,{items:s.followUpSteps,onReorder:a=>r("followUpSteps",a.map((l,o)=>({...l,order:o+1}))),renderItem:(a,l)=>{const o=ie.has(a.id),d=()=>{if(!o)return null;switch(a.actionType){case"Send Email":return e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx(t,{className:"text-sm font-semibold text-gray-900 mb-2 block",children:"Email Template"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:'Configure the email template for "Send Email" steps'}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Subject"}),e.jsx(u,{value:p(a.id,"emailSubject")||s.messageTemplates.email.subject,onChange:i=>g(a.id,{emailSubject:i.target.value}),placeholder:"We'd love your feedback!",className:"mt-2 bg-white border-gray-200","data-testid":"input-email-subject"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Body"}),e.jsx(C,{value:p(a.id,"emailBody")||s.messageTemplates.email.body,onChange:i=>g(a.id,{emailBody:i.target.value}),placeholder:"Use {{customerName}} and {{surveyLink}} as placeholders",className:"mt-2 bg-white border-gray-200",rows:4,"data-testid":"input-email-body"})]})]})]});case"Send SMS":return e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx(t,{className:"text-sm font-semibold text-gray-900 mb-2 block",children:"SMS Template"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:'Configure the SMS template for "Send SMS" steps'}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Message"}),e.jsx(C,{value:p(a.id,"smsBody")||s.messageTemplates.sms.body,onChange:i=>g(a.id,{smsBody:i.target.value}),placeholder:"Hi {{customerName}}! Rate your experience: {{surveyLink}}",className:"mt-2 bg-white border-gray-200",rows:3,"data-testid":"input-sms-body"})]})]});case"Send AI Call":return e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx(t,{className:"text-sm font-semibold text-gray-900 mb-2 block",children:"AI Agent Settings"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:'Configure the AI agent for "Send AI Call" steps'}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Start After (hours)"}),e.jsx(u,{type:"number",value:p(a.id,"startAfterHours")??s.aiAgentSettings.startAfterHours,onChange:i=>g(a.id,{startAfterHours:parseInt(i.target.value)||0}),className:"mt-2 bg-white border-gray-200","data-testid":"input-start-after"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hours to wait before making the first call"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Retry Interval (hours)"}),e.jsx(u,{type:"number",value:p(a.id,"retryIntervalHours")??s.aiAgentSettings.retryIntervalHours,onChange:i=>g(a.id,{retryIntervalHours:parseInt(i.target.value)||0}),className:"mt-2 bg-white border-gray-200","data-testid":"input-retry-interval"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hours between retry attempts"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Max Retries"}),e.jsx(u,{type:"number",value:p(a.id,"maxRetries")??s.aiAgentSettings.maxRetries,onChange:i=>g(a.id,{maxRetries:parseInt(i.target.value)||0}),className:"mt-2 bg-white border-gray-200","data-testid":"input-max-retries"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Voice Type"}),e.jsxs(k,{value:p(a.id,"voiceType")||s.aiAgentSettings.voiceType,onValueChange:i=>g(a.id,{voiceType:i}),children:[e.jsx(T,{className:"mt-2 bg-white border-gray-200","data-testid":"select-voice-type",children:e.jsx(R,{})}),e.jsxs(D,{children:[e.jsx(x,{value:"Male 1",children:"Male 1"}),e.jsx(x,{value:"Male 2",children:"Male 2"}),e.jsx(x,{value:"Female 1",children:"Female 1"}),e.jsx(x,{value:"Female 2",children:"Female 2"}),e.jsx(x,{value:"Neutral",children:"Neutral"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Call Window From"}),e.jsx(u,{type:"time",value:p(a.id,"callWindowFrom")||s.aiAgentSettings.callWindowFrom,onChange:i=>g(a.id,{callWindowFrom:i.target.value}),className:"mt-2 bg-white border-gray-200","data-testid":"input-call-from"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Call Window To"}),e.jsx(u,{type:"time",value:p(a.id,"callWindowTo")||s.aiAgentSettings.callWindowTo,onChange:i=>g(a.id,{callWindowTo:i.target.value}),className:"mt-2 bg-white border-gray-200","data-testid":"input-call-to"})]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Persona Script"}),e.jsx(C,{value:p(a.id,"personaScript")||s.aiAgentSettings.personaScript,onChange:i=>g(a.id,{personaScript:i.target.value}),className:"mt-2 bg-white border-gray-200",rows:4,placeholder:"Hello, this is Sarah from AutoHaus. I'm calling to follow up on your recent experience with us...","data-testid":"input-persona-script"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The script the AI agent will use when making calls"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx(t,{className:"text-sm font-semibold text-gray-900 mb-3 block",children:"Human Escalation Triggers"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm text-gray-900",children:"On Call Failure"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Escalate when AI agent cannot complete the call"})]}),e.jsx(b,{checked:p(a.id,"triggerHumanFollowUpOnFailure")??s.aiAgentSettings.triggerHumanFollowUpOnFailure,onCheckedChange:i=>g(a.id,{triggerHumanFollowUpOnFailure:i}),"data-testid":"switch-escalate-failure"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm text-gray-900",children:"On Dissatisfaction Detected"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Escalate when customer expresses dissatisfaction"})]}),e.jsx(b,{checked:p(a.id,"triggerHumanFollowUpOnDissatisfaction")??s.aiAgentSettings.triggerHumanFollowUpOnDissatisfaction,onCheckedChange:i=>g(a.id,{triggerHumanFollowUpOnDissatisfaction:i}),"data-testid":"switch-escalate-dissatisfaction"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm text-gray-900",children:"On Verbal Complaint"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Escalate when customer makes a verbal complaint"})]}),e.jsx(b,{checked:p(a.id,"triggerHumanFollowUpOnVerbalComplaint")??s.aiAgentSettings.triggerHumanFollowUpOnVerbalComplaint,onCheckedChange:i=>g(a.id,{triggerHumanFollowUpOnVerbalComplaint:i}),"data-testid":"switch-escalate-complaint"})]})]})]})]})]});default:return null}};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4",children:[e.jsxs("span",{className:"text-sm text-gray-400 font-medium",children:["#",l+1]}),e.jsxs(k,{value:a.actionType,onValueChange:i=>{const I=s.followUpSteps.map(S=>S.id===a.id?{...S,actionType:i}:S);r("followUpSteps",I)},children:[e.jsx(T,{className:"flex-1 bg-white border-gray-200",children:e.jsx(R,{})}),e.jsx(D,{children:Le.map(i=>e.jsx(x,{value:i,children:i},i))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"text-xs text-gray-500 whitespace-nowrap",children:"Delay"}),e.jsx(u,{type:"number",value:a.delayDays,onChange:i=>{const I=s.followUpSteps.map(S=>S.id===a.id?{...S,delayDays:parseInt(i.target.value)||0}:S);r("followUpSteps",I)},className:"w-16 bg-white border-gray-200",min:0})]}),e.jsx(y,{variant:"ghost",size:"icon",onClick:()=>xe(a.id),className:"text-gray-400 hover:text-red-600",disabled:s.followUpSteps.length===1,children:e.jsx(W,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"border-t border-gray-100",children:[e.jsxs("button",{type:"button",onClick:()=>ue(a.id),className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-900 hover:bg-gray-50 transition-colors",children:[e.jsx("span",{children:"Settings"}),o?e.jsx(De,{className:"h-4 w-4 text-gray-500"}):e.jsx(Ce,{className:"h-4 w-4 text-gray-500"})]}),o&&e.jsx("div",{className:"px-4 pb-4",children:d()})]})]})}})]})});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-base font-semibold text-gray-900",children:"Connect Leads Source"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Select how you want to import leads for this campaign"}),e.jsxs(Q,{value:s.dataSourceType,onValueChange:a=>r("dataSourceType",a),className:"space-y-3",children:[e.jsx(j,{className:`p-4 bg-white border rounded-lg cursor-pointer transition-all ${s.dataSourceType==="external_crm"?"border-primary ring-1 ring-primary":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r("dataSourceType","external_crm"),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(F,{value:"external_crm",id:"external_crm",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5 text-primary"}),e.jsx(t,{htmlFor:"external_crm",className:"font-medium text-gray-900 cursor-pointer",children:"External CRM"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Connect to an external CRM system via API"})]})]})}),e.jsx(j,{className:`p-4 bg-white border rounded-lg cursor-pointer transition-all ${s.dataSourceType==="leadspark"?"border-primary ring-1 ring-primary":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r("dataSourceType","leadspark"),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(F,{value:"leadspark",id:"leadspark",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5 text-primary"}),e.jsx(t,{htmlFor:"leadspark",className:"font-medium text-gray-900 cursor-pointer",children:"Leadspark Internal"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Use leads from your Leadspark internal system"})]})]})}),e.jsx(j,{className:`p-4 bg-white border rounded-lg cursor-pointer transition-all ${s.dataSourceType==="manual_upload"?"border-primary ring-1 ring-primary":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r("dataSourceType","manual_upload"),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(F,{value:"manual_upload",id:"manual_upload",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5 text-primary"}),e.jsx(t,{htmlFor:"manual_upload",className:"font-medium text-gray-900 cursor-pointer",children:"Manual Upload"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload a CSV file or enter leads manually"})]})]})})]})]}),s.dataSourceType==="external_crm"&&e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx(t,{htmlFor:"crm-url",className:"text-sm font-medium text-gray-900",children:"External CRM API URL *"}),e.jsx(u,{id:"crm-url",value:s.externalCrmUrl,onChange:a=>r("externalCrmUrl",a.target.value),placeholder:"https://api.yourcrm.com/leads",className:"mt-2 bg-white border-gray-200","data-testid":"input-external-crm-url"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Enter the API endpoint URL to fetch leads from your CRM"})]}),s.dataSourceType==="leadspark"&&e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Leadspark Connection"}),e.jsxs(j,{className:"p-4 mt-2 bg-green-50 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx(_,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Connected to Leadspark"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Leads will be automatically synced from your Leadspark account"})]})]}),s.dataSourceType==="manual_upload"&&e.jsxs("div",{className:"pt-4 border-t border-gray-100 space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"target",className:"text-sm font-medium text-gray-900",children:"Target Audience Description *"}),e.jsx(C,{id:"target",value:s.targetAudience,onChange:a=>r("targetAudience",a.target.value),placeholder:"Describe who will receive this survey",className:"mt-2 bg-white border-gray-200",rows:2,"data-testid":"input-target-audience"})]}),e.jsx(j,{className:"p-6 border-dashed border-2 border-gray-200 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-4 text-center",children:[e.jsx(z,{className:"h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Drop your CSV file here"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"or click to browse"}),e.jsx(y,{variant:"outline",size:"sm",className:"mt-3 border-gray-200",children:"Select File"})]})})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Trigger Type"}),e.jsxs(k,{value:s.triggerType,onValueChange:a=>r("triggerType",a),children:[e.jsx(T,{className:"mt-2 bg-white border-gray-200","data-testid":"select-trigger-type",children:e.jsx(R,{})}),e.jsxs(D,{children:[e.jsx(x,{value:"Immediate",children:"Immediate"}),e.jsx(x,{value:"Delayed",children:"Delayed"})]})]}),s.triggerType==="Delayed"&&e.jsxs("div",{className:"mt-4",children:[e.jsx(t,{htmlFor:"delay",className:"text-sm font-medium text-gray-900",children:"Delay Hours"}),e.jsx(u,{id:"delay",type:"number",value:s.delayHours,onChange:a=>r("delayHours",parseInt(a.target.value)||0),className:"mt-2 bg-white border-gray-200","data-testid":"input-delay-hours"})]})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-base font-semibold text-gray-900",children:"Question Source"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Choose how to configure survey questions"}),e.jsxs(Q,{value:s.questionSourceType,onValueChange:a=>r("questionSourceType",a),className:"flex gap-4",children:[e.jsx(j,{className:`flex-1 p-4 bg-white border rounded-lg cursor-pointer transition-all ${s.questionSourceType==="external"?"border-primary ring-1 ring-primary":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r("questionSourceType","external"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{value:"external",id:"external"}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"external",className:"font-medium text-gray-900 cursor-pointer",children:"External Source"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Connect to external API"})]})]})}),e.jsx(j,{className:`flex-1 p-4 bg-white border rounded-lg cursor-pointer transition-all ${s.questionSourceType==="manual"?"border-primary ring-1 ring-primary":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r("questionSourceType","manual"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{value:"manual",id:"manual"}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"manual",className:"font-medium text-gray-900 cursor-pointer",children:"Manual Configuration"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Add and customize questions"})]})]})})]})]}),s.questionSourceType==="external"&&e.jsxs("div",{className:"pt-4",children:[e.jsx(t,{htmlFor:"question-source-url",className:"text-sm font-medium text-gray-900",children:"External Question Source URL *"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(u,{id:"question-source-url",value:s.externalQuestionSourceUrl,onChange:a=>r("externalQuestionSourceUrl",a.target.value),placeholder:"https://api.example.com/survey-questions",className:"bg-white border-gray-200 flex-1","data-testid":"input-external-question-url"}),e.jsxs(y,{variant:"outline",className:"border-gray-200",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Questions will be fetched from this endpoint"})]}),s.questionSourceType==="manual"&&e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(t,{className:"text-sm font-medium text-gray-900",children:"Survey Questions"}),e.jsxs(y,{variant:"outline",size:"sm",onClick:de,className:"border-gray-200","data-testid":"button-add-question",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Add Question"]})]}),e.jsx(H,{items:s.surveyQuestions,onReorder:a=>r("surveyQuestions",a),renderItem:a=>e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsxs(k,{value:a.type,onValueChange:l=>{const o=s.surveyQuestions.map(d=>d.id===a.id?{...d,type:l}:d);r("surveyQuestions",o)},children:[e.jsx(T,{className:"w-28 bg-white border-gray-200",children:e.jsx(R,{})}),e.jsxs(D,{children:[e.jsx(x,{value:"Rating",children:"Rating"}),e.jsx(x,{value:"Yes/No",children:"Yes/No"}),e.jsx(x,{value:"Text",children:"Text"}),e.jsx(x,{value:"Grade",children:"Grade"})]})]}),e.jsx(u,{value:a.text,onChange:l=>{const o=s.surveyQuestions.map(d=>d.id===a.id?{...d,text:l.target.value}:d);r("surveyQuestions",o)},placeholder:"Question text",className:"flex-1 bg-white border-gray-200"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"text-xs text-gray-500",children:"Required"}),e.jsx(b,{checked:a.required,onCheckedChange:l=>{const o=s.surveyQuestions.map(d=>d.id===a.id?{...d,required:l}:d);r("surveyQuestions",o)}})]}),e.jsx(y,{variant:"ghost",size:"icon",onClick:()=>ce(a.id),className:"text-gray-400 hover:text-gray-600",children:e.jsx(W,{className:"h-4 w-4"})})]})})]})]});case 5:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx(t,{className:"text-base font-semibold text-gray-900",children:"Outcome Rules"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure actions based on NPS response categories"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(j,{className:"p-6 bg-white border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-600 mb-1",children:"Detractors (0-6)"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Actions for customers who gave low scores"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{className:"text-sm text-gray-900",children:"Create Fidspark Dispute"}),e.jsx(b,{checked:s.outcomeRules.detractors.createFidsparkDispute,onCheckedChange:a=>r("outcomeRules",{...s.outcomeRules,detractors:{...s.outcomeRules.detractors,createFidsparkDispute:a}}),"data-testid":"switch-fidspark"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{className:"text-sm text-gray-900",children:"Create Leadspark Task"}),e.jsx(b,{checked:s.outcomeRules.detractors.createLeadsparkTask,onCheckedChange:a=>r("outcomeRules",{...s.outcomeRules,detractors:{...s.outcomeRules.detractors,createLeadsparkTask:a}}),"data-testid":"switch-leadspark"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{className:"text-sm text-gray-900",children:"Create Webhook Task"}),e.jsx(b,{checked:s.outcomeRules.detractors.createWebhookTask,onCheckedChange:a=>r("outcomeRules",{...s.outcomeRules,detractors:{...s.outcomeRules.detractors,createWebhookTask:a}}),"data-testid":"switch-webhook"})]})]})]}),e.jsxs(j,{className:"p-6 bg-white border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-600 mb-1",children:"Promoters (9-10)"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Actions for satisfied customers"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{className:"text-sm text-gray-900",children:"Enable Review Channel Prompts"}),e.jsx(b,{checked:s.outcomeRules.promoters.promptReviewChannels,onCheckedChange:a=>r("outcomeRules",{...s.outcomeRules,promoters:{promptReviewChannels:a}}),"data-testid":"switch-review-prompt"})]}),s.outcomeRules.promoters.promptReviewChannels&&e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx(t,{className:"text-sm font-medium text-gray-900 mb-3 block",children:"Review Channels"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Drag to reorder priority for promoter review requests"}),e.jsx(H,{items:s.reviewChannels,onReorder:a=>r("reviewChannels",a.map((l,o)=>({...l,priority:o+1}))),renderItem:a=>e.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-900",children:a.platform}),e.jsx(b,{checked:a.enabled,onCheckedChange:l=>{const o=s.reviewChannels.map(d=>d.id===a.id?{...d,enabled:l}:d);r("reviewChannels",o)}})]})})]})]})]}),e.jsxs(j,{className:"p-6 bg-white border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-amber-600 mb-1",children:"Passives (7-8)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No automatic action configured for passive responses"})]}),e.jsxs(j,{className:"p-6 bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"External System Notification"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Broadcast campaign results to external systems for integration and syncing"})]}),e.jsx(b,{checked:s.outcomeRules.detractors.createWebhookTask,onCheckedChange:a=>{r("outcomeRules",{...s.outcomeRules,detractors:{...s.outcomeRules.detractors,createWebhookTask:a}})},"data-testid":"switch-external-notification"})]}),s.outcomeRules.detractors.createWebhookTask&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"webhook-url",className:"text-sm font-medium text-gray-900",children:"Webhook URL *"}),e.jsx(u,{id:"webhook-url",placeholder:"https://api.external-system.com/campaigns/sync",value:s.outcomeRules.detractors.webhookUrl,onChange:a=>r("outcomeRules",{...s.outcomeRules,detractors:{...s.outcomeRules.detractors,webhookUrl:a.target.value}}),className:"mt-2 bg-white border-gray-200 text-sm","data-testid":"input-webhook-url"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The endpoint to receive campaign result notifications"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"webhook-secret",className:"text-sm font-medium text-gray-900",children:"Secret Key"}),e.jsx(u,{id:"webhook-secret",placeholder:"sk_live_...",type:"password",value:s.outcomeRules.detractors.webhookSecret,onChange:a=>r("outcomeRules",{...s.outcomeRules,detractors:{...s.outcomeRules.detractors,webhookSecret:a.target.value}}),className:"mt-2 bg-white border-gray-200 text-sm","data-testid":"input-webhook-secret"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used to sign and verify webhook authenticity"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"webhook-payload",className:"text-sm font-medium text-gray-900",children:"Payload Template"}),e.jsx(C,{id:"webhook-payload",placeholder:'{"campaignId": "{{campaignId}}", "npsScore": "{{npsScore}}", "responseCount": "{{responseCount}}", "timestamp": "{{timestamp}}"}',value:s.outcomeRules.detractors.webhookPayloadTemplate,onChange:a=>r("outcomeRules",{...s.outcomeRules,detractors:{...s.outcomeRules.detractors,webhookPayloadTemplate:a.target.value}}),className:"mt-2 bg-white border-gray-200 text-sm",rows:4,"data-testid":"input-webhook-payload"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JSON template with dynamic fields: campaignId, npsScore, responseCount, timestamp, promotersPercent, detractorsPercent, passivesPercent"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-900 mb-2 flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500"}),"Trigger Events"]})}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Automatically send notifications on these events"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"trigger-completion",defaultChecked:!0,className:"rounded border-gray-300"}),e.jsx(t,{htmlFor:"trigger-completion",className:"text-xs text-gray-700 cursor-pointer",children:"On campaign completion"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"trigger-daily",defaultChecked:!0,className:"rounded border-gray-300"}),e.jsx(t,{htmlFor:"trigger-daily",className:"text-xs text-gray-700 cursor-pointer",children:"Daily summary updates"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"trigger-threshold",className:"rounded border-gray-300"}),e.jsx(t,{htmlFor:"trigger-threshold",className:"text-xs text-gray-700 cursor-pointer",children:"When NPS threshold changes"})]})]})]})]})]})]})]})});default:return null}};return e.jsxs("div",{className:"min-h-full bg-gray-50",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{variant:"ghost",size:"icon",onClick:()=>m("/campaigns"),"data-testid":"button-back",className:"h-9 w-9 text-gray-500 hover:text-gray-900 hover:bg-gray-100",children:e.jsx(q,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-page-title",children:"Create Campaign"})]}),e.jsxs("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-semibold whitespace-nowrap",children:["Step ",n,"/",$.length]})]}),e.jsx("div",{className:"mb-8 -mx-8 px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(Ee,{steps:$,currentStep:n,onStepClick:a=>{a<n&&h(a)}})})}),e.jsx(j,{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm",children:ye()}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs(y,{variant:"outline",onClick:ge,disabled:n===1,className:"border-gray-200","data-testid":"button-previous",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Previous"]}),n<5?e.jsxs(y,{onClick:he,className:"bg-primary hover:bg-primary/90 text-white","data-testid":"button-next",children:["Next",e.jsx(Fe,{className:"h-4 w-4 ml-2"})]}):e.jsxs(y,{onClick:pe,className:"bg-primary hover:bg-primary/90 text-white","data-testid":"button-launch",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Launch Campaign"]})]})]}),e.jsx(Pe,{open:E,onOpenChange:N,children:e.jsxs(ee,{className:"bg-white",children:[e.jsxs(ae,{children:[e.jsx(te,{className:"text-gray-900",children:"Change Service Type?"}),e.jsx(re,{className:"text-gray-500",children:"Changing the service type will replace your current survey questions with default questions for the new service type. This action cannot be undone."})]}),e.jsxs(se,{children:[e.jsx(y,{variant:"outline",onClick:()=>N(!1),className:"border-gray-200",children:"Cancel"}),e.jsx(y,{onClick:oe,className:"bg-primary hover:bg-primary/90 text-white",children:"Change Service Type"})]})]})})]})}export{Be as default};
